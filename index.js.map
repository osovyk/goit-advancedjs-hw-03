{"version":3,"file":"index.js","sources":["../src/js/handle-error.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction handleError(message) {\n  iziToast.show({\n    message,\n    position: 'topRight',\n    timeout: 5000,\n    backgroundColor: '#EF4040',\n    messageColor: '#FAFAFB',\n    iconUrl: './assets/icons/close-icon.svg',\n    closeOnEscape: true,\n    closeOnClick: true,\n    maxWidth: '432px',\n  });\n}\n\nexport { handleError };","import { handleError } from './handle-error.js';\n\nconst API_KEY = import.meta.env.VITE_API_KEY;\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconsole.log(`${API_KEY}`);\n\nconst PARAMS = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n};\n\nfunction fetchImages(query) {\n  const loader = document.getElementById('loader');\n\n  loader.style.display = 'flex';\n\n  const urlParams = new URLSearchParams({\n    ...PARAMS,\n    q: query,\n  });\n\n  const url = `${BASE_URL}?${urlParams}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        handleError('Failed to fetch images');\n        return;\n      }\n      return response.json();\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n}\n\nexport { fetchImages };","import { handleError } from './handle-error.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = null;\n\nfunction renderImages({ total, hits }) {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n\n\n  if (total === 0) {\n    handleError('Sorry, there are no images matching your search query. Please try again!');\n    return;\n  }\n\n  hits.forEach(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }, index) => {\n    const stats = [\n      { title: 'Likes', value: likes },\n      { title: 'Views', value: views },\n      { title: 'Comments', value: comments },\n      { title: 'Downloads', value: downloads },\n    ];\n\n    const infoHTML = stats\n      .map(({ title, value }) => `\n        <div class=\"info-block\">\n          <span class=\"info-title\">${title}</span>\n          <span class=\"info-value\">${value}</span>\n        </div>\n      `)\n      .join('');\n\n    const item = document.createElement('div');\n    item.classList.add('gallery-item');\n\n    item.innerHTML = `\n      <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <div class=\"image-wrapper\">\n          <img\n            src=\"${webformatURL.replace('_640', '_360')}\"\n            alt=\"${tags}\"\n            class=\"gallery-image hidden\"\n          />\n        </div>\n      </a>\n      <div class=\"gallery-info\">\n        ${infoHTML}\n      </div>\n    `;\n\n    const img = item.querySelector('.gallery-image');\n\n    img.onload = () => {\n      img.classList.remove('hidden');\n    };\n\n    gallery.appendChild(item);\n\n    setTimeout(() => {\n      item.classList.add('fade-in');\n    }, index * 100);\n  });\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n      overlayOpacity: 0.8,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport { renderImages };\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst refs = {\n  searchForm: document.getElementById('searchForm'),\n  searchInput: document.getElementById('searchInput'),\n};\n\nrefs.searchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = refs.searchInput.value.trim();\n\n  if (!query) {\n    return;\n  }\n\n  fetchImages(query)\n    .then(renderImages)\n    .catch(error => console.error(error))\n    .finally(() => {\n      refs.searchInput.value = '';\n      refs.searchInput.blur();\n    });\n});\n"],"names":["handleError","message","iziToast","API_KEY","BASE_URL","PARAMS","fetchImages","query","loader","urlParams","url","response","lightbox","renderImages","total","hits","gallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","index","infoHTML","title","value","item","img","SimpleLightbox","refs","event","error"],"mappings":"6vBAGA,SAASA,EAAYC,EAAS,CAC5BC,EAAS,KAAK,CACZ,QAAAD,EACA,SAAU,WACV,QAAS,IACT,gBAAiB,UACjB,aAAc,UACd,QAAS,gCACT,cAAe,GACf,aAAc,GACd,SAAU,OACd,CAAG,CACH,CCbA,MAAME,EAAU,qCACVC,EAAW,2BAEjB,QAAQ,IAAI,GAAGD,CAAO,EAAE,EAExB,MAAME,EAAS,CACb,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,MACd,EAEA,SAASG,EAAYC,EAAO,CACpB,MAAAC,EAAS,SAAS,eAAe,QAAQ,EAE/CA,EAAO,MAAM,QAAU,OAEjB,MAAAC,EAAY,IAAI,gBAAgB,CACpC,GAAGJ,EACH,EAAGE,CAAA,CACJ,EAEKG,EAAM,GAAGN,CAAQ,IAAIK,CAAS,GAEpC,OAAO,MAAMC,CAAG,EACb,KAAiBC,GAAA,CACZ,GAAA,CAACA,EAAS,GAAI,CAChBX,EAAY,wBAAwB,EACpC,MAAA,CAEF,OAAOW,EAAS,KAAK,CAAA,CACtB,EACA,QAAQ,IAAM,CACbH,EAAO,MAAM,QAAU,MAAA,CACxB,CACL,CCjCA,IAAII,EAAW,KAEf,SAASC,EAAa,CAAE,MAAAC,EAAO,KAAAC,GAAQ,CACrC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAIjD,GAHAA,EAAQ,UAAY,GAGhBF,IAAU,EAAG,CACfd,EAAY,0EAA0E,EACtF,MACJ,CAEEe,EAAK,QAAQ,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIC,IAAU,CAQhG,MAAMC,EAPQ,CACZ,CAAE,MAAO,QAAS,MAAOL,CAAO,EAChC,CAAE,MAAO,QAAS,MAAOC,CAAO,EAChC,CAAE,MAAO,WAAY,MAAOC,CAAU,EACtC,CAAE,MAAO,YAAa,MAAOC,CAAW,CACzC,EAGE,IAAI,CAAC,CAAE,MAAAG,EAAO,MAAAC,KAAY;AAAA;AAAA,qCAEID,CAAK;AAAA,qCACLC,CAAK;AAAA;AAAA,OAEnC,EACA,KAAK,EAAE,EAEJC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,cAAc,EAEjCA,EAAK,UAAY;AAAA,iBACJV,CAAa;AAAA;AAAA;AAAA,mBAGXD,EAAa,QAAQ,OAAQ,MAAM,CAAC;AAAA,mBACpCE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAMbM,CAAQ;AAAA;AAAA,MAId,MAAMI,EAAMD,EAAK,cAAc,gBAAgB,EAE/CC,EAAI,OAAS,IAAM,CACjBA,EAAI,UAAU,OAAO,QAAQ,CAC9B,EAEDb,EAAQ,YAAYY,CAAI,EAExB,WAAW,IAAM,CACfA,EAAK,UAAU,IAAI,SAAS,CAClC,EAAOJ,EAAQ,GAAG,CAClB,CAAG,EAEIZ,EAOHA,EAAS,QAAS,EANlBA,EAAW,IAAIkB,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,IACd,eAAgB,EACtB,CAAK,CAIL,CCtEA,MAAMC,EAAO,CACX,WAAY,SAAS,eAAe,YAAY,EAChD,YAAa,SAAS,eAAe,aAAa,CACpD,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,GAAS,CAClDA,EAAM,eAAgB,EAEtB,MAAMzB,EAAQwB,EAAK,YAAY,MAAM,KAAM,EAEtCxB,GAILD,EAAYC,CAAK,EACd,KAAKM,CAAY,EACjB,MAAMoB,GAAS,QAAQ,MAAMA,CAAK,CAAC,EACnC,QAAQ,IAAM,CACbF,EAAK,YAAY,MAAQ,GACzBA,EAAK,YAAY,KAAM,CAC7B,CAAK,CACL,CAAC"}